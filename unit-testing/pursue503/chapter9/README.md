# Chapter9 목 처리에 대한 모범 사례

생성일: 2023년 9월 18일 오후 4:26
태그: 9장

---

---

# 9장 정리(페이지가 짧고 예제코드 뿐이라 정리만)

- 시스템 끝에서 비관리 의존성과의 상호 작용을 검증하라.
- 스파이는 직접 작성한 목이다. 시스템 끝에 있는 클래스에 대해서는 스파이가 목보다 낫다.
- 검증문을 작성할 때 제품 코드에 의존하지 말라 테스트에서 별도의 리터럴과 상수 집합을 사용하라.
필요하면 리터럴 상수를 복제하라
- 모든 비관리 의존성에 하위 호환성이 동일한 수준으로 필요한 것은 아니다.
- 목은 `비관리 의존성` 만을 위한 것이고 이러한 의존성을 처리하는 콛는 컨트롤러 뿐이므로
통합 테스트에서 컨트롤러를 테스트할 때만 목을 적용해야 한다.
단위 테스트에서는 목을 사용하지 말라.
- 테스트에서 사용된 목의 수는 관계가 없다. 목의 수는 비관리 이존성에 수에 따라 달라진다.
- 목에 예상되는 호출이 있는지와 예상치 못한 호출이 없는지를 확인하라
- 보유 타입만 목으로 처리하라. 비관리 의존성에 접근하는 서드파티 라이브러리 위에 어댑터를 작성하라
기본 타입 대신 해당 어댑터를 목으로 처리하라.